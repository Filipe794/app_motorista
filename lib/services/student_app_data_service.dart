import 'package:latlong2/latlong.dart';
import '../models/bus_route.dart';
import '../models/bus_stop.dart';

/// Dados reais copiados do aplicativo dos estudantes de Caxias do Maranhão
class StudentAppDataService {
  
  /// Retorna as rotas reais utilizadas no aplicativo dos estudantes
  static List<BusRoute> getRealRoutes() {
    return [
      // Rota 1: Centro - MA-349 (dados reais do app dos estudantes)
      BusRoute(
        id: 'rota_real_001',
        name: 'Centro - MA-349',
        description: 'Rota do Centro de Cultura de Caxias até MA-349',
        color: '#005CB7',
        distanceKm: 15.3,
        estimatedDurationMinutes: 45,
        startTime: '05:30',
        endTime: '23:00',
        waypoints: [
          const LatLng(-4.86279, -43.36398),
          const LatLng(-4.86302, -43.36392),
          const LatLng(-4.86329, -43.36386),
          const LatLng(-4.86346, -43.36381),
          const LatLng(-4.86435, -43.36327),
          const LatLng(-4.86575, -43.36304),
          const LatLng(-4.86699, -43.36294),
          const LatLng(-4.86833, -43.36426),
          const LatLng(-4.86862, -43.36486),
          const LatLng(-4.86888, -43.36596),
          const LatLng(-4.86946, -43.36612),
          const LatLng(-4.87128, -43.365),
          const LatLng(-4.87383, -43.36476),
          const LatLng(-4.87598, -43.36499),
          const LatLng(-4.87791, -43.36532),
          const LatLng(-4.87863, -43.36544),
          const LatLng(-4.87871, -43.36706),
          const LatLng(-4.87910, -43.36747),
          const LatLng(-4.88032, -43.36764),
          const LatLng(-4.88181, -43.36912),
          const LatLng(-4.88251, -43.37208),
          const LatLng(-4.88295, -43.37333),
          const LatLng(-4.88305, -43.37357),
          const LatLng(-4.88159, -43.37394),
          const LatLng(-4.87957, -43.37447),
          const LatLng(-4.87814, -43.37479),
          const LatLng(-4.87712, -43.37476),
          const LatLng(-4.87542, -43.37439),
          const LatLng(-4.87451, -43.37322),
          const LatLng(-4.87303, -43.36937),
          const LatLng(-4.87192, -43.36897),
          const LatLng(-4.87092, -43.3677),
          const LatLng(-4.86937, -43.36787),
          const LatLng(-4.86849, -43.36855),
          const LatLng(-4.86775, -43.36857),
          const LatLng(-4.86659, -43.36725),
          const LatLng(-4.86579, -43.36789),
          const LatLng(-4.86572, -43.36992),
          const LatLng(-4.86542, -43.36966),
          const LatLng(-4.86450, -43.36661),
          const LatLng(-4.86382, -43.3648),
          const LatLng(-4.86317, -43.36307),
          const LatLng(-4.86244, -43.3633),
          const LatLng(-4.86117, -43.36331),
          const LatLng(-4.85972, -43.36277),
          const LatLng(-4.85864, -43.36231),
          const LatLng(-4.85794, -43.36114),
          const LatLng(-4.85759, -43.35918),
          const LatLng(-4.85754, -43.3587),
          const LatLng(-4.85668, -43.35895),
          const LatLng(-4.85506, -43.35862),
          const LatLng(-4.85321, -43.35769),
          const LatLng(-4.85126, -43.35667),
          const LatLng(-4.84925, -43.3561),
          const LatLng(-4.84796, -43.35544),
          const LatLng(-4.84714, -43.35367),
          const LatLng(-4.84616, -43.35246),
          const LatLng(-4.84512, -43.35158),
          const LatLng(-4.84419, -43.35034),
          const LatLng(-4.84287, -43.34842),
          const LatLng(-4.84256, -43.34712),
          const LatLng(-4.84219, -43.34552),
          const LatLng(-4.84174, -43.34481),
          const LatLng(-4.84093, -43.34424),
          const LatLng(-4.84002, -43.34386),
          const LatLng(-4.83890, -43.34395),
          const LatLng(-4.83669, -43.34391),
          const LatLng(-4.83554, -43.34352),
          const LatLng(-4.83310, -43.34246),
          const LatLng(-4.83159, -43.34182),
          const LatLng(-4.82997, -43.34156),
          const LatLng(-4.82852, -43.34144),
          const LatLng(-4.82632, -43.34207),
          const LatLng(-4.82367, -43.3432),
          const LatLng(-4.82181, -43.34387),
          const LatLng(-4.82011, -43.34416),
        ],
        stops: [
          const BusStop(
            id: 'real_stop_001',
            name: 'Centro de Cultura de Caxias',
            latitude: -4.8627904,
            longitude: -43.3639782,
            address: 'Centro de Cultura de Caxias',
            routeIds: ['rota_real_001'],
            passengerCount: 25,
          ),
          const BusStop(
            id: 'real_stop_002',
            name: 'Av. Luiz Sales - Ponte',
            latitude: -4.8686237,
            longitude: -43.3648618,
            address: 'Avenida Luiz Sales - Ponte',
            routeIds: ['rota_real_001'],
            passengerCount: 18,
          ),
          const BusStop(
            id: 'real_stop_003',
            name: 'R. Vera de Holanda',
            latitude: -4.8779112,
            longitude: -43.3653234,
            address: 'Rua Vera de Holanda',
            routeIds: ['rota_real_001'],
            passengerCount: 12,
          ),
          const BusStop(
            id: 'real_stop_004',
            name: 'R. do Parnaso - Salobro',
            latitude: -4.8830083,
            longitude: -43.3734658,
            address: 'Rua do Parnaso - Salobro',
            routeIds: ['rota_real_001'],
            passengerCount: 15,
          ),
          const BusStop(
            id: 'real_stop_005',
            name: 'Tv. Aniceto Cruz - Ponte',
            latitude: -4.8707377,
            longitude: -43.3673817,
            address: 'Travessa Aniceto Cruz - Ponte',
            routeIds: ['rota_real_001'],
            passengerCount: 8,
          ),
          const BusStop(
            id: 'real_stop_006',
            name: 'Av. Nossa Sra. de Nazaré',
            latitude: -4.8655326,
            longitude: -43.3698687,
            address: 'Avenida Nossa Senhora de Nazaré',
            routeIds: ['rota_real_001'],
            passengerCount: 22,
          ),
          const BusStop(
            id: 'real_stop_007',
            name: 'Av. Otávio Passos - Centro',
            latitude: -4.8620069,
            longitude: -43.3634461,
            address: 'Avenida Otávio Passos - Centro',
            routeIds: ['rota_real_001'],
            passengerCount: 16,
          ),
          const BusStop(
            id: 'real_stop_008',
            name: 'R. Nossa Sra. de Fátima',
            latitude: -4.8575395,
            longitude: -43.3587042,
            address: 'Rua Nossa Senhora de Fátima',
            routeIds: ['rota_real_001'],
            passengerCount: 10,
          ),
          const BusStop(
            id: 'real_stop_009',
            name: 'Av. Santos Dumont - Centro',
            latitude: -4.8473382,
            longitude: -43.354096,
            address: 'Avenida Santos Dumont - Centro',
            routeIds: ['rota_real_001'],
            passengerCount: 14,
          ),
          const BusStop(
            id: 'real_stop_010',
            name: 'MA-349',
            latitude: -4.820108,
            longitude: -43.344163,
            address: 'Rodovia MA-349',
            routeIds: ['rota_real_001'],
            passengerCount: 5,
          ),
        ],
      ),

      // Rota 2: Campo de Belém - Nova Caxias (dados reais do app dos estudantes)
      BusRoute(
        id: 'rota_real_002',
        name: 'Campo de Belém - Nova Caxias',
        description: 'Rota de Campo de Belém até Nova Caxias (Res. Hélio Queiroz)',
        color: '#FF6B35',
        distanceKm: 12.8,
        estimatedDurationMinutes: 40,
        startTime: '06:00',
        endTime: '22:30',
        waypoints: [
          const LatLng(-4.87853, -43.37473),
          const LatLng(-4.87859, -43.37472),
          const LatLng(-4.87873, -43.37469),
          const LatLng(-4.87887, -43.37465),
          const LatLng(-4.87957, -43.37447),
          const LatLng(-4.88039, -43.37425),
          const LatLng(-4.88071, -43.37417),
          const LatLng(-4.88105, -43.37408),
          const LatLng(-4.88158, -43.37394),
          const LatLng(-4.88159, -43.37394),
          const LatLng(-4.88193, -43.37385),
          const LatLng(-4.88195, -43.37385),
          const LatLng(-4.88305, -43.37357),
          const LatLng(-4.88312, -43.37371),
          const LatLng(-4.88317, -43.37381),
          const LatLng(-4.88323, -43.3739),
          const LatLng(-4.88332, -43.37402),
          const LatLng(-4.8837, -43.37454),
          const LatLng(-4.88436, -43.37551),
          const LatLng(-4.8846, -43.37588),
          const LatLng(-4.88471, -43.37602),
          const LatLng(-4.88485, -43.37616),
          const LatLng(-4.88508, -43.37635),
          const LatLng(-4.88526, -43.37649),
          const LatLng(-4.88549, -43.37664),
          const LatLng(-4.88591, -43.37689),
          const LatLng(-4.88593, -43.37691),
          const LatLng(-4.88601, -43.37703),
          const LatLng(-4.88605, -43.37709),
          const LatLng(-4.88607, -43.37714),
          const LatLng(-4.88609, -43.3772),
          const LatLng(-4.88612, -43.37726),
          const LatLng(-4.88627, -43.37699),
          const LatLng(-4.88683, -43.37612),
          const LatLng(-4.88692, -43.37597),
          const LatLng(-4.88713, -43.37564),
          const LatLng(-4.88726, -43.37541),
          const LatLng(-4.88738, -43.37519),
          const LatLng(-4.88745, -43.37506),
          const LatLng(-4.88756, -43.37478),
          const LatLng(-4.88765, -43.37451),
          const LatLng(-4.88774, -43.37418),
          const LatLng(-4.88781, -43.37389),
          const LatLng(-4.88788, -43.3735),
          const LatLng(-4.8879, -43.37328),
          const LatLng(-4.88791, -43.37319),
          const LatLng(-4.88793, -43.37294),
          const LatLng(-4.88794, -43.37283),
          const LatLng(-4.88795, -43.37261),
          const LatLng(-4.87624, -43.34483),
        ],
        stops: [
          const BusStop(
            id: 'real_stop_011',
            name: 'R. José Tadeu - Campo de Belém',
            latitude: -4.878534,
            longitude: -43.3747292,
            address: 'Rua José Tadeu - Campo de Belém',
            routeIds: ['rota_real_002'],
            passengerCount: 20,
          ),
          const BusStop(
            id: 'real_stop_012',
            name: 'Centro Urbano',
            latitude: -4.88159,
            longitude: -43.37394,
            address: 'Centro Urbano',
            routeIds: ['rota_real_002'],
            passengerCount: 28,
          ),
          const BusStop(
            id: 'real_stop_013',
            name: 'Área Comercial',
            latitude: -4.88305,
            longitude: -43.37357,
            address: 'Área Comercial',
            routeIds: ['rota_real_002'],
            passengerCount: 15,
          ),
          const BusStop(
            id: 'real_stop_014',
            name: 'Bairro Residencial 1',
            latitude: -4.8866,
            longitude: -43.3584,
            address: 'Bairro Residencial 1',
            routeIds: ['rota_real_002'],
            passengerCount: 18,
          ),
          const BusStop(
            id: 'real_stop_015',
            name: 'Bairro Residencial 2',
            latitude: -4.88644,
            longitude: -43.35532,
            address: 'Bairro Residencial 2',
            routeIds: ['rota_real_002'],
            passengerCount: 12,
          ),
          const BusStop(
            id: 'real_stop_016',
            name: 'Área Industrial',
            latitude: -4.88379,
            longitude: -43.34668,
            address: 'Área Industrial',
            routeIds: ['rota_real_002'],
            passengerCount: 8,
          ),
          const BusStop(
            id: 'real_stop_017',
            name: 'Nova Caxias',
            latitude: -4.88028,
            longitude: -43.34278,
            address: 'Nova Caxias',
            routeIds: ['rota_real_002'],
            passengerCount: 10,
          ),
          const BusStop(
            id: 'real_stop_018',
            name: 'R. Grajaú - Res. Hélio Queiroz',
            latitude: -4.8762426,
            longitude: -43.3448278,
            address: 'Rua Grajaú - Residencial Hélio Queiroz',
            routeIds: ['rota_real_002'],
            passengerCount: 6,
          ),
        ],
      ),

      // Rota 3: Centro - João Viana (dados reais do app dos estudantes)
      BusRoute(
        id: 'rota_real_003',
        name: 'Centro - João Viana',
        description: 'Rota do Centro até João Viana',
        color: '#28A745',
        distanceKm: 10.5,
        estimatedDurationMinutes: 35,
        startTime: '05:45',
        endTime: '22:00',
        waypoints: [
          const LatLng(-4.86451, -43.36682),
          const LatLng(-4.86443, -43.36661),
          const LatLng(-4.86422, -43.36603),
          const LatLng(-4.86411, -43.3657),
          const LatLng(-4.86393, -43.36527),
          const LatLng(-4.86377, -43.36482),
          const LatLng(-4.86369, -43.36464),
          const LatLng(-4.86361, -43.36447),
          const LatLng(-4.86419, -43.36423),
          const LatLng(-4.86477, -43.36398),
          const LatLng(-4.86479, -43.36404),
          const LatLng(-4.86537, -43.36347),
          const LatLng(-4.86539, -43.36345),
          const LatLng(-4.86575, -43.36304),
          const LatLng(-4.86583, -43.36296),
          const LatLng(-4.86596, -43.36278),
          const LatLng(-4.86613, -43.36258),
          const LatLng(-4.86621, -43.36247),
          const LatLng(-4.86627, -43.36229),
          const LatLng(-4.86629, -43.36221),
          const LatLng(-4.86631, -43.36197),
          const LatLng(-4.86628, -43.36176),
          const LatLng(-4.86625, -43.36152),
          const LatLng(-4.86621, -43.36128),
          const LatLng(-4.86608, -43.36072),
          const LatLng(-4.86606, -43.36065),
          const LatLng(-4.86603, -43.36058),
          const LatLng(-4.866, -43.36054),
          const LatLng(-4.86598, -43.36051),
          const LatLng(-4.86596, -43.36048),
          const LatLng(-4.86593, -43.36043),
          const LatLng(-4.86587, -43.36036),
          const LatLng(-4.8658, -43.36029),
          const LatLng(-4.86573, -43.36022),
          const LatLng(-4.86511, -43.35966),
          const LatLng(-4.86525, -43.35933),
          const LatLng(-4.86497, -43.3322),
          const LatLng(-4.86497, -43.33226),
        ],
        stops: [
          const BusStop(
            id: 'real_stop_021',
            name: 'Av. Nereu Bittencourt - Centro',
            latitude: -4.8645086,
            longitude: -43.3668198,
            address: 'Avenida Nereu Bittencourt - Centro',
            routeIds: ['rota_real_003'],
            passengerCount: 24,
          ),
          const BusStop(
            id: 'real_stop_022',
            name: 'Centro Comercial',
            latitude: -4.86477,
            longitude: -43.36398,
            address: 'Centro Comercial',
            routeIds: ['rota_real_003'],
            passengerCount: 19,
          ),
          const BusStop(
            id: 'real_stop_023',
            name: 'Bairro Residencial',
            latitude: -4.86525,
            longitude: -43.35933,
            address: 'Bairro Residencial',
            routeIds: ['rota_real_003'],
            passengerCount: 14,
          ),
          const BusStop(
            id: 'real_stop_024',
            name: 'Área Urbana',
            latitude: -4.86629,
            longitude: -43.35501,
            address: 'Área Urbana',
            routeIds: ['rota_real_003'],
            passengerCount: 11,
          ),
          const BusStop(
            id: 'real_stop_025',
            name: 'Distrito Industrial',
            latitude: -4.86689,
            longitude: -43.33703,
            address: 'Distrito Industrial',
            routeIds: ['rota_real_003'],
            passengerCount: 9,
          ),
          const BusStop(
            id: 'real_stop_026',
            name: 'R. João Viana - João Viana',
            latitude: -4.8649728,
            longitude: -43.3322596,
            address: 'Rua João Viana - João Viana',
            routeIds: ['rota_real_003'],
            passengerCount: 7,
          ),
        ],
      ),
    ];
  }

  /// Retorna a rota atual do motorista (primeira rota real)
  static BusRoute getCurrentRoute() {
    return getRealRoutes().first;
  }

  /// Retorna todas as paradas reais
  static List<BusStop> getAllRealStops() {
    return getRealRoutes().expand((route) => route.stops).toList();
  }

  /// Retorna paradas de uma rota específica
  static List<BusStop> getStopsForRoute(String routeId) {
    final route = getRealRoutes().firstWhere(
      (r) => r.id == routeId,
      orElse: () => getRealRoutes().first,
    );
    return route.stops;
  }

  /// Simula estatísticas da rota real
  static Map<String, dynamic> getRealRouteStats() {
    return {
      'totalPassengers': 117,
      'completedStops': 4,
      'totalStops': 10,
      'estimatedArrival': '15:20',
      'averageSpeed': 28.5,
      'distanceRemaining': 12.3,
    };
  }
}